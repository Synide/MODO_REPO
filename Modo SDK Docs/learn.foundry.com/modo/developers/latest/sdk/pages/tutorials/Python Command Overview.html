

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->

<!-- Mirrored from learn.foundry.com/modo/developers/latest/sdk/pages/tutorials/Python Command Overview.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 30 Nov 2024 03:16:09 GMT -->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Python Command Overview &mdash; Modo SDK 14.2v0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/js/contentui.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Python Notifier Example" href="Python%20Notifier%20Example.html" />
    <link rel="prev" title="Python API Overview" href="Python%20API%20Overview.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Modo SDK
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="https://learn.foundry.com/modo/developers/latest/sdk/search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Articles</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../starting/_starting.html">First Steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server_basics/_server_basics.html">Server Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/_general.html">Editorial Info</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ui/_ui.html">User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scripting/_scripting.html">Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faqs/_faqs.html">Frequently Asked Questions</a></li>
</ul>
<p class="caption"><span class="caption-text">Code Examples</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="_tutorials.html">SDK Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Channel%20Mod%20Linear%20Blend.html">Channel Mod Linear Blend</a></li>
<li class="toctree-l2"><a class="reference internal" href="Channel%20Mod%20Math%20Multi.html">Channel Mod Math Multi</a></li>
<li class="toctree-l2"><a class="reference internal" href="Channel%20Mod%20Simple%20Kinematics.html">Channel Mod Simple Kinematics</a></li>
<li class="toctree-l2"><a class="reference internal" href="Color%20Model%20HSV.html">Color Model HSV</a></li>
<li class="toctree-l2"><a class="reference internal" href="Colormodel%20kelvin.html">Colormodel kelvin</a></li>
<li class="toctree-l2"><a class="reference internal" href="Command%20VertValue.html">Command VertValue</a></li>
<li class="toctree-l2"><a class="reference internal" href="Creating%20a%20Selection%20Set.html">Creating a Selection Set</a></li>
<li class="toctree-l2"><a class="reference internal" href="CustomView.html">CustomView</a></li>
<li class="toctree-l2"><a class="reference internal" href="Hello%20World.html">Hello World</a></li>
<li class="toctree-l2"><a class="reference internal" href="HostService%20Reference.html">HostService Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="Io%20image%20raw.html">Io image raw</a></li>
<li class="toctree-l2"><a class="reference internal" href="Io%20scene%20geo.html">Io scene geo</a></li>
<li class="toctree-l2"><a class="reference internal" href="Io%20scene%20hgpl.html">Io scene hgpl</a></li>
<li class="toctree-l2"><a class="reference internal" href="Item%20Command%20Arguments.html">Item Command Arguments</a></li>
<li class="toctree-l2"><a class="reference internal" href="Item%20gasket.html">Item gasket</a></li>
<li class="toctree-l2"><a class="reference internal" href="Item%20mandelbrot.html">Item mandelbrot</a></li>
<li class="toctree-l2"><a class="reference internal" href="Item%20orb.html">Item orb</a></li>
<li class="toctree-l2"><a class="reference internal" href="Language%20Wrappers.html">Language Wrappers</a></li>
<li class="toctree-l2"><a class="reference internal" href="Mesh%20Operation%20-%20Automatic%20implementation.html">Mesh Operation - Automatic implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="Mesh%20Operation%20-%20Example.html">Mesh Operation - Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="Mesh%20Operation%20-%20Manual%20implementation.html">Mesh Operation - Manual implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="Modo%20Version%20History.html">Modo Version History</a></li>
<li class="toctree-l2"><a class="reference internal" href="Movie%20cocoaqt.html">Movie cocoaqt</a></li>
<li class="toctree-l2"><a class="reference internal" href="Multiple%20Servers%20in%20One%20Module.html">Multiple Servers in One Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="Network%20Rendering.html">Network Rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="Package%20or%20Item%20Type%20(metaclass).html">Package or Item Type (metaclass)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Path%20Aliases.html">Path Aliases</a></li>
<li class="toctree-l2"><a class="reference internal" href="Pattern%20Matching.html">Pattern Matching</a></li>
<li class="toctree-l2"><a class="reference internal" href="PlatformService%20Reference.html">PlatformService Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="Plug-ins%20vs.%20Scripts.html">Plug-ins vs. Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="Pop-up%20List%20Choice.html">Pop-up List Choice</a></li>
<li class="toctree-l2"><a class="reference internal" href="Preference%20Forms.html">Preference Forms</a></li>
<li class="toctree-l2"><a class="reference internal" href="Prepare_Evaluate%20Protocol.html">Prepare/Evaluate Protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="Preset%20Browser%20Filtering.html">Preset Browser Filtering</a></li>
<li class="toctree-l2"><a class="reference internal" href="Preset%20Browser%20Paths.html">Preset Browser Paths</a></li>
<li class="toctree-l2"><a class="reference internal" href="Preview%20Socket.html">Preview Socket</a></li>
<li class="toctree-l2"><a class="reference internal" href="Procedural%20Geometry.html">Procedural Geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="Python.html">Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="Python%20API%20Overview.html">Python API Overview</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Python Command Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#python-api-command-overview">Python API Command Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#the-entire-command">The Entire Command</a></li>
<li class="toctree-l4"><a class="reference internal" href="#breakdown">Breakdown</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Python%20Notifier%20Example.html">Python Notifier Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="Python%20Samples.html">Python Samples</a></li>
<li class="toctree-l2"><a class="reference internal" href="Python%20Treeview%20Example.html">Python Treeview Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="Python%20in%20Modo.html">Python in Modo</a></li>
<li class="toctree-l2"><a class="reference internal" href="Query%20Command%20Values%20example.html">Query Command Values example</a></li>
<li class="toctree-l2"><a class="reference internal" href="RandomSel%20Script.html">RandomSel Script</a></li>
<li class="toctree-l2"><a class="reference internal" href="Reading%20Files%20with%20Python.html">Reading Files with Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="Reading%20Persistant%20Data.html">Reading Persistant Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="Reading%20UV%20Values.html">Reading UV Values in Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="Render%20Frame%20Size.html">Render Frame Size</a></li>
<li class="toctree-l2"><a class="reference internal" href="Scene%20Query.cpp.html">Scene Query.cpp</a></li>
<li class="toctree-l2"><a class="reference internal" href="Select.typeFrom.html">Select.typeFrom</a></li>
<li class="toctree-l2"><a class="reference internal" href="Selection%20Operation%20-%20Automatic%20implementation.html">Selection Operation - Automatic implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="Selection%20Operation%20-%20Manual%20implementation.html">Selection Operation - Manual implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="Server%20Tags.html">Server Tags</a></li>
<li class="toctree-l2"><a class="reference internal" href="Singleton%20Listener.html">Singleton Listener</a></li>
<li class="toctree-l2"><a class="reference internal" href="Singleton%20Polymorph.html">Singleton Polymorph</a></li>
<li class="toctree-l2"><a class="reference internal" href="Startup%20Commands.html">Startup Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="Symbols%20defined%20in%20the%20lx%20package.html">Symbols defined in the lx package</a></li>
<li class="toctree-l2"><a class="reference internal" href="Texture%20test.html">Texture test</a></li>
<li class="toctree-l2"><a class="reference internal" href="Tool%20spikey.html">Tool spikey</a></li>
<li class="toctree-l2"><a class="reference internal" href="Using%20Loader%20Options.html">Using Loader Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="Writing%20to%20the%20Event%20Log.html">Writing to the Event Log</a></li>
<li class="toctree-l2"><a class="reference internal" href="Writing%20to%20the%20modo%20event%20log%20and%20debugger.html">Writing to the modo event log and debugger</a></li>
<li class="toctree-l2"><a class="reference internal" href="Your%20First%20Tool%20in%20Modo.html">Your First Tool in Modo</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples/_examples.html">Code Examples and Snippets</a></li>
</ul>
<p class="caption"><span class="caption-text">Technical Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../python/python.html">Python Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cpp/cpp.html">C++ Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Modo SDK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="_tutorials.html">SDK Tutorials</a> &raquo;</li>
        
      <li>Python Command Overview</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="python-command-overview">
<h1>Python Command Overview<a class="headerlink" href="#python-command-overview" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#python-api-command-overview" id="id1">Python API Command Overview</a></p>
<ul>
<li><p><a class="reference internal" href="#the-entire-command" id="id2">The Entire Command</a></p></li>
<li><p><a class="reference internal" href="#breakdown" id="id3">Breakdown</a></p>
<ul>
<li><p><a class="reference internal" href="#the-header" id="id4">The Header</a></p></li>
<li><p><a class="reference internal" href="#the-command-class-init" id="id5">The Command Class &amp; Init</a></p></li>
<li><p><a class="reference internal" href="#argument-definition-optional" id="id6">Argument Definition (Optional)</a></p>
<ul>
<li><p><a class="reference internal" href="#argument-flags" id="id7">Argument Flags</a></p></li>
<li><p><a class="reference internal" href="#argument-types" id="id8">Argument Types</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#command-flags" id="id9">Command Flags</a></p></li>
<li><p><a class="reference internal" href="#main-execution" id="id10">Main Execution</a></p>
<ul>
<li><p><a class="reference internal" href="#making-main-execution-useful" id="id11">Making Main Execution Useful</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#blessing-the-command" id="id12">Blessing the Command</a></p></li>
<li><p><a class="reference internal" href="#user-facing-string-overrides" id="id13">User-Facing String Overrides</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="python-api-command-overview">
<h2><a class="toc-backref" href="#id1">Python API Command Overview</a><a class="headerlink" href="#python-api-command-overview" title="Permalink to this headline">¶</a></h2>
<p>This page will attempt to give some “boilerplate” code for creating a Python API command (with arguments) in MODO. There is much more you can do with commands, but this should cover common uses.</p>
<p>We’ll start with listing the entire code and then breaking it down.</p>
<div class="section" id="the-entire-command">
<h3><a class="toc-backref" href="#id2">The Entire Command</a><a class="headerlink" href="#the-entire-command" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">lx</span>
<span class="kn">import</span> <span class="nn">lxu.command</span>

<span class="k">class</span> <span class="nc">MyCommand_Cmd</span><span class="p">(</span><span class="n">lxu</span><span class="o">.</span><span class="n">command</span><span class="o">.</span><span class="n">BasicCommand</span><span class="p">):</span>
        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="n">lxu</span><span class="o">.</span><span class="n">command</span><span class="o">.</span><span class="n">BasicCommand</span><span class="o">.</span><span class="fm">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">dyna_Add</span> <span class="p">(</span><span class="s2">&quot;myBoolean&quot;</span><span class="p">,</span> <span class="n">lx</span><span class="o">.</span><span class="n">symbol</span><span class="o">.</span><span class="n">sTYPE_BOOLEAN</span><span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">dyna_Add</span> <span class="p">(</span><span class="s2">&quot;myDistance&quot;</span><span class="p">,</span> <span class="n">lx</span><span class="o">.</span><span class="n">symbol</span><span class="o">.</span><span class="n">sTYPE_DISTANCE</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">basic_SetFlags</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">lx</span><span class="o">.</span><span class="n">symbol</span><span class="o">.</span><span class="n">fCMDARG_OPTIONAL</span><span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">dyna_Add</span> <span class="p">(</span><span class="s2">&quot;myString&quot;</span><span class="p">,</span> <span class="n">lx</span><span class="o">.</span><span class="n">symbol</span><span class="o">.</span><span class="n">sTYPE_STRING</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">basic_SetFlags</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">lx</span><span class="o">.</span><span class="n">symbol</span><span class="o">.</span><span class="n">fCMDARG_OPTIONAL</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">cmd_Flags</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">lx</span><span class="o">.</span><span class="n">symbol</span><span class="o">.</span><span class="n">fCMD_UNDO</span> <span class="o">|</span> <span class="n">lx</span><span class="o">.</span><span class="n">symbol</span><span class="o">.</span><span class="n">fCMD_MODEL</span>

        <span class="k">def</span> <span class="nf">basic_Execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">,</span> <span class="n">flags</span><span class="p">):</span>

                <span class="n">boolean</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dyna_Bool</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
                <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dyna_Float</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
                <span class="n">string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dyna_String</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

                <span class="n">lx</span><span class="o">.</span><span class="n">out</span><span class="p">(</span><span class="s2">&quot;Boolean: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">boolean</span><span class="p">)</span>

                <span class="n">lx</span><span class="o">.</span><span class="n">out</span><span class="p">(</span><span class="s2">&quot;Distance: </span><span class="si">%s</span><span class="s2">m&quot;</span> <span class="o">%</span> <span class="n">distance</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">dyna_IsSet</span> <span class="p">(</span><span class="mi">1</span><span class="p">):</span>
                        <span class="n">lx</span><span class="o">.</span><span class="n">out</span><span class="p">(</span><span class="s2">&quot;...but you didn&#39;t set it.&quot;</span><span class="p">)</span>

                <span class="n">lx</span><span class="o">.</span><span class="n">out</span><span class="p">(</span><span class="s2">&quot;String: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">string</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">dyna_IsSet</span> <span class="p">(</span><span class="mi">2</span><span class="p">):</span>
                        <span class="n">lx</span><span class="o">.</span><span class="n">out</span><span class="p">(</span><span class="s2">&quot;...but you didn&#39;t set it.&quot;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>lx.bless (MyCommand_Cmd, “my.command”)</p>
</div>
<div class="section" id="breakdown">
<h3><a class="toc-backref" href="#id3">Breakdown</a><a class="headerlink" href="#breakdown" title="Permalink to this headline">¶</a></h3>
<div class="section" id="the-header">
<h4><a class="toc-backref" href="#id4">The Header</a><a class="headerlink" href="#the-header" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">lx</span>
</pre></div>
</td></tr></table></div>
<p>import lxu.command</p>
<p>This piece simply tells MODO this is a Python file, and imports the basic modules we need for creating a command.
You may require other modules depending on the functions you intend to carry out in your command.</p>
</div>
<div class="section" id="the-command-class-init">
<h4><a class="toc-backref" href="#id5">The Command Class &amp; Init</a><a class="headerlink" href="#the-command-class-init" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span>        <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">lxu</span><span class="o">.</span><span class="n">command</span><span class="o">.</span><span class="n">BasicCommand</span><span class="o">.</span><span class="fm">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>This section defines a new class which inherits from ‘’’lxu.command.BasicCommand’’’.</p>
<p>The <strong>__init__</strong> function is called when the command is loaded by MODO at start up.</p>
<p>At the very least, this function should contain ‘’’lxu.command.BasicCommand.__init__ (self)’’’</p>
</div>
<div class="section" id="argument-definition-optional">
<h4><a class="toc-backref" href="#id6">Argument Definition (Optional)</a><a class="headerlink" href="#argument-definition-optional" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span>                <span class="bp">self</span><span class="o">.</span><span class="n">dyna_Add</span> <span class="p">(</span><span class="s2">&quot;mydistance&quot;</span><span class="p">,</span> <span class="n">lx</span><span class="o">.</span><span class="n">symbol</span><span class="o">.</span><span class="n">sTYPE_DISTANCE</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">basic_SetFlags</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">lx</span><span class="o">.</span><span class="n">symbol</span><span class="o">.</span><span class="n">fCMDARG_OPTIONAL</span><span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">dyna_Add</span> <span class="p">(</span><span class="s2">&quot;mystring&quot;</span><span class="p">,</span> <span class="n">lx</span><span class="o">.</span><span class="n">symbol</span><span class="o">.</span><span class="n">sTYPE_STRING</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">basic_SetFlags</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">lx</span><span class="o">.</span><span class="n">symbol</span><span class="o">.</span><span class="n">fCMDARG_OPTIONAL</span>
</pre></div>
</td></tr></table></div>
<p>In this example, we have also defined arguments for our command. These are not required, but must go inside the <strong>__init__</strong> function if you wish your command to have arguments.
They are added to the command in the order they are defined here and assigned corresponding indices.
‘’’NOTE:’’’ This order is important for accessing the argument values later on, as we will be accessing them via their index.</p>
<p>At their most basic, arguments are defined with a name and a type.
The name is the internal name of the argument and should not contain spaces - we will give them user-friendly display names later on.
The names can be used by the <a class="reference internal" href="../ui/Command%20Help.html"><span class="doc">Command Help</span></a> for this command to define user-friendly display names from a config file (which allows for localisation), but we won’t be covering that here.</p>
<div class="section" id="argument-flags">
<h5><a class="toc-backref" href="#id7">Argument Flags</a><a class="headerlink" href="#argument-flags" title="Permalink to this headline">¶</a></h5>
<p>By default, all arguments are required to be set for the command to run. If, when the command is called and all the required arguments are not set, a dialog will be displayed to the user allowing them to enter the values.</p>
<p>However, you’ll note that we’ve specified flags on two of the arguments. The flags are specified by referencing the index of the argument they apply to (see, order is important!) and giving the flag itself.</p>
<p>In this case, we’ve specified the flag of “OPTIONAL”, which means that the user does not have to specify a value for the second and third arguments. We will have to make sure that we assign any unspecified arguments default values in the main execution of the command later on.</p>
</div>
<div class="section" id="argument-types">
<h5><a class="toc-backref" href="#id8">Argument Types</a><a class="headerlink" href="#argument-types" title="Permalink to this headline">¶</a></h5>
<p>As a brief aside…</p>
<p>Although MODO appears to have several different argument types, they are all user-friendly wrappers for the storage of 4 core types; integers, floats, strings and objects.</p>
<p>You’ll have seen these friendly wrappers for things like distance fields, where you can enter a value in metres, millimetres, feet, microns, etc…
However, internally, these are read and stored as a simple float value which is the displayed distance as metres.</p>
<p>Similarly, angle fields, where you can enter a value in degrees, are stored internally as a float of the displayed angle in radians.</p>
<p>Boolean values (often shown as checkboxes or toggle buttons) are simply stored as integers which are 0 or 1.</p>
<p>‘’’NOTE:’’’ These internal values are what you’ll be dealing with when you write commands.</p>
</div>
</div>
<div class="section" id="command-flags">
<h4><a class="toc-backref" href="#id9">Command Flags</a><a class="headerlink" href="#command-flags" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span>        <span class="k">return</span> <span class="n">lx</span><span class="o">.</span><span class="n">symbol</span><span class="o">.</span><span class="n">fCMD_UNDO</span> <span class="o">|</span> <span class="n">lx</span><span class="o">.</span><span class="n">symbol</span><span class="o">.</span><span class="n">fCMD_MODEL</span>
</pre></div>
</td></tr></table></div>
<p>This is a very important part of a command if you are using the Python API (or TD SDK) to edit the scene in the command execution. The command flags tell MODO what the command is expected to do when it executes and how to handle it.</p>
<p>In our case, we specify the standard flags; <strong>MODEL</strong> and ‘’’UNDO’’’. These flags are bit masks and as such are joined together into a single integer return value using the pipe | separator.</p>
<p>The <strong>MODEL</strong> flag tells MODO that we will be editing a part of the scene. The name is slightly misleading as it implies changes to a mesh only, however it means <em>any</em> change to <em>anything</em> in the scene; channels, meshes, selection changes, adding or removing items, etc…</p>
<p>The <strong>UNDO</strong> flag is specified by default as part of the MODEL flag, however it’s not harmful to add the flag to be clear. This tells MODO that the command should be undoable and that it should set up an undo state for it.
‘’’NOTE:’’’ It is very important that this flag is set, as changing the scene without this flag set causes instability in MODO and usually leads to a crash (if not immediately then very soon).</p>
<p>Generally, these should be your standard flags unless you have specific reason to change them.</p>
</div>
<div class="section" id="main-execution">
<h4><a class="toc-backref" href="#id10">Main Execution</a><a class="headerlink" href="#main-execution" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span>                <span class="n">boolean</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dyna_Bool</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
                <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dyna_Float</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
                <span class="n">string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dyna_String</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

                <span class="n">lx</span><span class="o">.</span><span class="n">out</span><span class="p">(</span><span class="s2">&quot;Boolean: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">boolean</span><span class="p">)</span>

                <span class="n">lx</span><span class="o">.</span><span class="n">out</span><span class="p">(</span><span class="s2">&quot;Distance: </span><span class="si">%s</span><span class="s2">m&quot;</span> <span class="o">%</span> <span class="n">distance</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">dyna_IsSet</span> <span class="p">(</span><span class="mi">1</span><span class="p">):</span>
                        <span class="n">lx</span><span class="o">.</span><span class="n">out</span><span class="p">(</span><span class="s2">&quot;...but you didn&#39;t set it.&quot;</span><span class="p">)</span>

                <span class="n">lx</span><span class="o">.</span><span class="n">out</span><span class="p">(</span><span class="s2">&quot;String: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">string</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">dyna_IsSet</span> <span class="p">(</span><span class="mi">2</span><span class="p">):</span>
                <span class="n">lx</span><span class="o">.</span><span class="n">out</span><span class="p">(</span><span class="s2">&quot;...but you didn&#39;t set it.&quot;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>This is the meat of the command - the code that’s actually run when the command is fired.</p>
<p>Here, we’re not doing anything other than reading the arguments and writing to the <a class="reference internal" href="../ui/Event%20Log%20Viewport.html"><span class="doc">Event Log Viewport</span></a>.</p>
<p>You can see here that those core types are how we read the arguments in the command, with <strong>dyna_Bool</strong> (a friendly wrapper for ‘’’dyna_Int’’’, checking if it’s equal to 1 or 0), <strong>dyna_Float</strong> and ‘’’dyna_String’’’.
These are accessed via index, the same indices we’ve used throughout the command. Optionally, a default value is given as the second parameter, which is the value returned if the argument has not been set by the user.</p>
<p>We can also make use of the command’s <strong>dyna_IsSet</strong> function, which will return True or False depending on whether the argument with that index was specified by the user (this function is what is used internally for the dyna_Float and related functions, to determine whether to return the default value or not).</p>
<p>It is important to note that any arguments which have UI hints (such as minimum or maximum values - including text hints) are for UI purposes only, and that arbitrary values can be entered as arguments.
This means that if you have a UI hint that gives it a range of 10-50, the user can still enter 12000 manually from a script or the command entry, or enter an out-of-range integer instead of a text hint string.
So be sure to manage such values and take appropriate action if such values would cause problems in your code (e.g. aborting execution or limiting the value supplied by the user to the desired range).</p>
<p>Also note that, as this is part of the Python API, we can freely use lx.eval() for calling commands and querying values, just like regular fire-and-forget Python scripts.</p>
<div class="section" id="making-main-execution-useful">
<h5><a class="toc-backref" href="#id11">Making Main Execution Useful</a><a class="headerlink" href="#making-main-execution-useful" title="Permalink to this headline">¶</a></h5>
<p>This is a simple outline of writing a command with arguments. It doesn’t actually do anything. For further reading, you can find other examples of code to go into the Execute function on the wiki (such as <a class="reference internal" href="Creating%20a%20Selection%20Set.html"><span class="doc">Creating a Selection Set</span></a>).</p>
</div>
</div>
<div class="section" id="blessing-the-command">
<h4><a class="toc-backref" href="#id12">Blessing the Command</a><a class="headerlink" href="#blessing-the-command" title="Permalink to this headline">¶</a></h4>
<p>Here, we call the <strong>bless</strong> command. This promotes the class we created to be a fully fledged command inside of MODO, as opposed to simply a Python script.
It takes two arguments. One is the command class we defined, the second is the command that we’ll want to assign to this inside MODO.</p>
<p>This means that the script is <strong>not</strong> run via the usual <em>&#64;scriptName.py</em> command that fire-and-forget scripts are. Instead, this command is run be entering <strong>my.command</strong> as it is a proper command in MODO.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49</pre></div></td><td class="code"><div class="highlight"><pre><span></span>== User Facing Strings: Command Help ==
All user-facing strings, such as for the command name, argument names, and so on, should be defined in [[Command Help]] config files whenever possible.  Config files are considered to be part of any command or kit, and not as optional extras.  This is also the only place that the Command List gets user-friendly information that can teach others how to use your commands.

This is an example of what the command help for this command would look like. This would be inside a .cfg file that is distributed with the .py file of the actual command.

If distributed with this config, you would be able to remove all of the above command&#39;s functions which relate to returning user-friendly names for things and MODO would use this file to get the relevant values automatically.

It is also worth noting that these can be localized by duplicating the &lt;hash type=&quot;Command&quot; key=&quot;my.command@en_US&quot;&gt; fragment and it&#39;s contents and changing the &#39;&#39;&#39;@en_US&#39;&#39;&#39; to &#39;&#39;@[localized language code]&#39;&#39;&#39; then replacing the contents of the atom fragments accordingly.

By default, MODO will look for &#39;&#39;&#39;@en_US&#39;&#39;&#39; and this will also be the fallback if the user&#39;s specified language isn&#39;t found.

* Command:  this command&#39;s  internal name and a language code.  These are used to find the user strings for the current system locale.
* UserName: The name displayed for the command in the Command List and other parts of the UI.
* ButtonName:  The label of the control when the command is in in a form.
* ToolTip:  The text displayed in a tooltip when hovering the mouse over the control in a form.
* Example:  A simple example usage of the command, shown in the Command List.
* Desc:  Basic documentation for the command, as shown in the command list.
* Argument:  Given an argument&#39;s internal name, this defines its username ad description.  The username is shown in command dialogs and the command list.  The command list also displays the description, which should be considered documentation for how to use that argument, the default behavior if the argument is optional and not set, and so on.

&lt;syntaxhighlight lang=&quot;xml&quot;&gt;&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;configuration&gt;

        &lt;atom type=&quot;CommandHelp&quot;&gt;

        &lt;!-- note the command&#39;s name in here; my.command --&gt;
        &lt;hash type=&quot;Command&quot; key=&quot;my.command@en_US&quot;&gt;
                &lt;atom type=&quot;UserName&quot;&gt;My Command Dialog - also shown in the command list.&lt;/atom&gt;
                &lt;atom type=&quot;ButtonName&quot;&gt;My Command&lt;/atom&gt;
                &lt;atom type=&quot;Tooltip&quot;&gt;My command&#39;s tooltip&lt;/atom&gt;
                &lt;atom type=&quot;Desc&quot;&gt;My command&#39;s description - shown in the command list.&lt;/atom&gt;
                &lt;atom type=&quot;Example&quot;&gt;my.command true 1.5 &quot;hello!&quot;&lt;/atom&gt;&lt;!-- An example of how my command would be called - shown in the command list. --&gt;

                &lt;hash type=&quot;Argument&quot; key=&quot;myBoolean&quot;&gt;
                        &lt;atom type=&quot;UserName&quot;&gt;A Boolean&lt;/atom&gt;
                        &lt;atom type=&quot;Desc&quot;&gt;The boolean argument of my command - shown in the command list.&lt;/atom&gt;
                &lt;/hash&gt;

                &lt;hash type=&quot;Argument&quot; key=&quot;myDistance&quot;&gt;
                        &lt;atom type=&quot;UserName&quot;&gt;A Distance&lt;/atom&gt;
                        &lt;atom type=&quot;Desc&quot;&gt;The distance argument of my command - shown in the command list.&lt;/atom&gt;
                &lt;/hash&gt;

                &lt;hash type=&quot;Argument&quot; key=&quot;myString&quot;&gt;
                        &lt;atom type=&quot;UserName&quot;&gt;A String&lt;/atom&gt;
                        &lt;atom type=&quot;Desc&quot;&gt;The string argument of my command - shown in the command list.&lt;/atom&gt;
                &lt;/hash&gt;
        &lt;/hash&gt;

        &lt;/atom&gt;
</pre></div>
</td></tr></table></div>
<p>&lt;/configuratio</p>
</div>
<div class="section" id="user-facing-string-overrides">
<h4><a class="toc-backref" href="#id13">User-Facing String Overrides</a><a class="headerlink" href="#user-facing-string-overrides" title="Permalink to this headline">¶</a></h4>
<p>Generally speaking, you should define all user-facing strings in cmdhelp configs.  The configs allow the command to be localized into different languages, and are used in the Command List part of the Command History to provide usage information for users.</p>
<p>However, it is sometimes useful to the able to override the cmdhelp-based strings with dynamic strings.  These should never be used to return static strings – those should be in cmdhelp configs.  Even when returning dynamic strings with these methods, the strings should come from Message Tables whenever possible to ensure that they can also be localized.  Cases where strings are used directly in code are those that provided by the user, like the name of an item, but care should be take to avoid hard-coding any user-facing text as string literals directly into the code itself.</p>
<p>The ButtonName() method provides a short name for when the control is displayed in a form.  UserName() is usually a somewhat more verbose name that is display in other parts of the interface. Tooltip() defines a string to display in the tooltip window when the user hovers over the control in a form.  UIHints() has a variety of methods, but can be used to set the label for a specific command argument when displayed in the UI, such as in a command dialog.  Most of these should never be ended, as these values are usually static and should be set in cmdhelp configs.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span>        <span class="k">def</span> <span class="nf">basic_ButtonName</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">dynamicButtonNameStringHere</span>

        <span class="k">def</span> <span class="nf">cmd_Tooltip</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">dynamicTooltipStringHere</span>

        <span class="k">def</span> <span class="nf">cmd_UserName</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">dynamicUsernameStringHere</span>

        <span class="k">def</span> <span class="nf">arg_UIHints</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">hints</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">hints</span><span class="o">.</span><span class="n">Label</span> <span class="p">(</span><span class="n">dynamicArgumentName0Here</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">index</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="n">hints</span><span class="o">.</span><span class="n">Label</span> <span class="p">(</span><span class="n">dynamicArgumentName1Here</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">index</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                        <span class="n">hints</span><span class="o">.</span><span class="n">Label</span> <span class="p">(</span><span class="n">dynamicArgumentName2Here</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Python%20Notifier%20Example.html" class="btn btn-neutral float-right" title="Python Notifier Example" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Python%20API%20Overview.html" class="btn btn-neutral float-left" title="Python API Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Foundry

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org/">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>

<!-- Mirrored from learn.foundry.com/modo/developers/latest/sdk/pages/tutorials/Python Command Overview.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 30 Nov 2024 03:16:09 GMT -->
</html>