

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->

<!-- Mirrored from learn.foundry.com/modo/developers/latest/sdk/pages/general/serverinfo/Selection Operation - Overview.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 30 Nov 2024 03:15:52 GMT -->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Selection Operation - Overview &mdash; Modo SDK 14.2v0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
        <script src="../../../_static/js/contentui.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Tool Operation - Overview" href="Tool%20Operation%20-%20Overview.html" />
    <link rel="prev" title="Mesh Operation - Overview" href="Mesh%20Operation%20-%20Overview.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Modo SDK
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="https://learn.foundry.com/modo/developers/latest/sdk/search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Articles</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../starting/_starting.html">First Steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../server_basics/_server_basics.html">Server Basics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../_general.html">Editorial Info</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../_general.html#general-info">General Info</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_general.html#underlying-systems">Underlying Systems</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../_general.html#interface-details">Interface Details</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="CLxImpl%20Tool.html">CLxImpl Tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="Channel%20Modifier.html">Channel Modifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="Global%20Listener%20Object.html">Global Listener Object</a></li>
<li class="toctree-l3"><a class="reference internal" href="Mesh%20Operation%20-%20Overview.html">Mesh Operation - Overview</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Selection Operation - Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#interface">Interface</a></li>
<li class="toctree-l4"><a class="reference internal" href="#item-type">Item Type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#selection-type">Selection Type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#creation-command">Creation Command</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Tool%20Operation%20-%20Overview.html">Tool Operation - Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="Treeview.html">Treeview</a></li>
<li class="toctree-l3"><a class="reference internal" href="Using%20a%20Spawner.html">Using a Spawner</a></li>
<li class="toctree-l3"><a class="reference internal" href="Visitors%20in%20Action.html">Visitors in Action</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../_general.html#metaclasses">MetaClasses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_general.html#additional-resources">Additional Resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../ui/_ui.html">User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../scripting/_scripting.html">Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faqs/_faqs.html">Frequently Asked Questions</a></li>
</ul>
<p class="caption"><span class="caption-text">Code Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/_tutorials.html">SDK Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/_examples.html">Code Examples and Snippets</a></li>
</ul>
<p class="caption"><span class="caption-text">Technical Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../python/python.html">Python Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cpp/cpp.html">C++ Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Modo SDK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../_general.html">Editorial Info</a> &raquo;</li>
        
      <li>Selection Operation - Overview</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="selection-operation-overview">
<h1>Selection Operation - Overview<a class="headerlink" href="#selection-operation-overview" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#interface" id="id1">Interface</a></p>
<ul>
<li><p><a class="reference internal" href="#setmesh" id="id2">SetMesh</a></p></li>
<li><p><a class="reference internal" href="#settransform" id="id3">SetTransform</a></p></li>
<li><p><a class="reference internal" href="#test" id="id4">Test*</a></p></li>
<li><p><a class="reference internal" href="#evaluate" id="id5">Evaluate</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#item-type" id="id6">Item Type</a></p></li>
<li><p><a class="reference internal" href="#selection-type" id="id7">Selection Type</a></p></li>
<li><p><a class="reference internal" href="#creation-command" id="id8">Creation Command</a></p></li>
</ul>
</div>
<p>__TOC__</p>
<p>Selection Operations allow mesh operation edits to be limited to specific points, edges and polygons. Before a procedural edit is performed, the selection operation is evaluated for each element on the mesh, and the result is stored in a mark mode on the mesh that can be evaluated by the mesh operation. The Selection Operation evaluation is multi-threaded, and can use any rules they want to determine if a specific element should be modified by the procedural edit.</p>
<div class="section" id="interface">
<h2><a class="toc-backref" href="#id1">Interface</a><a class="headerlink" href="#interface" title="Permalink to this headline">¶</a></h2>
<div class="section" id="setmesh">
<h3><a class="toc-backref" href="#id2">SetMesh</a><a class="headerlink" href="#setmesh" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="n">LXxMETHOD</span><span class="p">(</span> <span class="n">LxResult</span><span class="p">,</span>
<span class="n">SetMesh</span><span class="p">)</span> <span class="p">(</span>
    <span class="n">LXtObjectID</span>              <span class="n">self</span><span class="p">,</span>
    <span class="n">LXtObjectID</span>              <span class="n">mesh</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>Before the selection operation is evaluated per element, this function is called to inform the selection operation which mesh that is currently being evaluated. The selection operation can cache this COM interface for easy access to the mesh during evaluation.</p>
</div>
<div class="section" id="settransform">
<h3><a class="toc-backref" href="#id3">SetTransform</a><a class="headerlink" href="#settransform" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="n">LXxMETHOD</span><span class="p">(</span> <span class="n">LxResult</span><span class="p">,</span>
<span class="n">SetTransform</span><span class="p">)</span> <span class="p">(</span>
    <span class="n">LXtObjectID</span>              <span class="n">self</span><span class="p">,</span>
    <span class="n">LXtMatrix4</span>               <span class="n">xfrm</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>Elements on the mesh being evaluated will be in local space, however, for selection operations that read element positions, it may be more convenient for the positions to be in world space. This function is called before the selection operation is evaluated, providing the selection operation with the transform of the mesh that is being evaluated. The transform matrix should be cached, so it can be used to transform element positions into world space.</p>
</div>
<div class="section" id="test">
<h3><a class="toc-backref" href="#id4">Test*</a><a class="headerlink" href="#test" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="n">LXxMETHOD</span><span class="p">(</span> <span class="n">LxResult</span><span class="p">,</span>
<span class="n">TestPoint</span><span class="p">)</span> <span class="p">(</span>
    <span class="n">LXtObjectID</span>              <span class="n">self</span><span class="p">,</span>
    <span class="n">LXtPointID</span>               <span class="n">point</span><span class="p">);</span>

    <span class="n">LXxMETHOD</span><span class="p">(</span> <span class="n">LxResult</span><span class="p">,</span>
<span class="n">TestEdge</span><span class="p">)</span> <span class="p">(</span>
    <span class="n">LXtObjectID</span>              <span class="n">self</span><span class="p">,</span>
    <span class="n">LXtEdgeID</span>                <span class="n">edge</span><span class="p">);</span>

    <span class="n">LXxMETHOD</span><span class="p">(</span> <span class="n">LxResult</span><span class="p">,</span>
<span class="n">TestPolygon</span><span class="p">)</span> <span class="p">(</span>
    <span class="n">LXtObjectID</span>              <span class="n">self</span><span class="p">,</span>
    <span class="n">LXtPolygonID</span>             <span class="n">polygon</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>The Test functions test individual elements to see if they should be selected. The element pointer is passed in, and the function should return either LXe_TRUE or LXe_FALSE if the element is selected. The implementation of these functions must be thread safe, as meshes that contain more than 100 elements are evaluated from multiple threads.</p>
</div>
<div class="section" id="evaluate">
<h3><a class="toc-backref" href="#id5">Evaluate</a><a class="headerlink" href="#evaluate" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="n">LXxMETHOD</span><span class="p">(</span> <span class="n">LxResult</span><span class="p">,</span>
<span class="n">Evaluate</span><span class="p">)</span> <span class="p">(</span>
    <span class="n">LXtObjectID</span>              <span class="n">self</span><span class="p">,</span>
    <span class="n">LXtID4</span>                   <span class="n">type</span><span class="p">,</span>
    <span class="n">LXtObjectID</span>              <span class="n">state</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>Selection Operations can be combined, allowing them to be evaluated in turn, each one modifying or adding to the previous selection. This function is called before the individual test functions are called, and It can be used to modify a previous selection in the stack, or initialize any state needed to evaluate individual elements. The function is called with the selection type that is being evaluated, as well as a ILxSelectionState object. The ILxSelectionState object allows individual elements to be tested for selection, and elements to be added or removed from the selection. If this function returns LXe_TRUE, the selection operation has finished modifying the selection, and then TestPoint, TestEdge and TestPolygon functions will not be called, whereas if the function returns LXe_FALSE, the various test functions will be called.</p>
</div>
</div>
<div class="section" id="item-type">
<h2><a class="toc-backref" href="#id6">Item Type</a><a class="headerlink" href="#item-type" title="Permalink to this headline">¶</a></h2>
<p>The selection operation item provides a selection to the procedural system. It encapsulates channels that can be evaluated to determine the current selection state. This item will be evaluated prior to a procedural edit to determine which elements should be operated on. Selection Operation items all derive from a common type. This type is extremely basic and has no transforms or position in 3D space. The default channels define enable state and the output channel to which the ILxSelectionOperationID is written.</p>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">#define LXsITYPE_SELOP                  &quot;selectionoperation&quot;</span>

<span class="cp">#define LXsICHAN_SELOP_ENABLE           &quot;enable&quot;</span>
<span class="cp">#define LXsICHAN_SELOP_OBJ              &quot;selopobj&quot;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="selection-type">
<h2><a class="toc-backref" href="#id7">Selection Type</a><a class="headerlink" href="#selection-type" title="Permalink to this headline">¶</a></h2>
<p>Along with Mesh Operations and Tool Operations, Selection Operations should specify the types of selection they support. This combination of selection types on both the selection operation and the mesh operation helps determine which selection operations can be used with which mesh operations.</p>
<p>Supported selection types are defined using the following server tag. The server is expected to provide a comma separated list of selection types. The server should implement the Test functions for any element type they support. Any other value will be treated as supporting all selection types.</p>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">#define LXsPMODEL_SELECTIONTYPES        &quot;selectionoperation&quot;</span>

<span class="cp">#define LXsSELOP_TYPE_VERTEX            &quot;VERX&quot;</span>
<span class="cp">#define LXsSELOP_TYPE_EDGE              &quot;EDGE&quot;</span>
<span class="cp">#define LXsSELOP_TYPE_POLYGON           &quot;POLY&quot;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="creation-command">
<h2><a class="toc-backref" href="#id8">Creation Command</a><a class="headerlink" href="#creation-command" title="Permalink to this headline">¶</a></h2>
<p>Similar to the Mesh Operation and Tool Operation, the Selection Operation item can provide a creation command that will be executed to handle its creation. This allows things like dialogs to be created to ask the user for input, or to create graph connections on creation. To define a creation command, the following server tag should be added to the selection operation server or item type, the value of the tag should be the command to execute.</p>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">#define LXsPKG_MESHOP_CREATECMD         &quot;meshop.create&quot;</span>
</pre></div>
</td></tr></table></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Tool%20Operation%20-%20Overview.html" class="btn btn-neutral float-right" title="Tool Operation - Overview" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Mesh%20Operation%20-%20Overview.html" class="btn btn-neutral float-left" title="Mesh Operation - Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Foundry

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org/">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>

<!-- Mirrored from learn.foundry.com/modo/developers/latest/sdk/pages/general/serverinfo/Selection Operation - Overview.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 30 Nov 2024 03:15:52 GMT -->
</html>