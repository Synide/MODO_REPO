

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->

<!-- Mirrored from learn.foundry.com/modo/developers/latest/sdk/pages/general/serverinfo/Mesh Operation - Overview.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 30 Nov 2024 03:15:52 GMT -->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Mesh Operation - Overview &mdash; Modo SDK 14.2v0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
        <script src="../../../_static/js/contentui.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Selection Operation - Overview" href="Selection%20Operation%20-%20Overview.html" />
    <link rel="prev" title="Global Listener Object" href="Global%20Listener%20Object.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Modo SDK
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="https://learn.foundry.com/modo/developers/latest/sdk/search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Articles</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../starting/_starting.html">First Steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../server_basics/_server_basics.html">Server Basics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../_general.html">Editorial Info</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../_general.html#general-info">General Info</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_general.html#underlying-systems">Underlying Systems</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../_general.html#interface-details">Interface Details</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="CLxImpl%20Tool.html">CLxImpl Tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="Channel%20Modifier.html">Channel Modifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="Global%20Listener%20Object.html">Global Listener Object</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Mesh Operation - Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#interface">Interface</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Selection%20Operation%20-%20Overview.html">Selection Operation - Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="Tool%20Operation%20-%20Overview.html">Tool Operation - Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="Treeview.html">Treeview</a></li>
<li class="toctree-l3"><a class="reference internal" href="Using%20a%20Spawner.html">Using a Spawner</a></li>
<li class="toctree-l3"><a class="reference internal" href="Visitors%20in%20Action.html">Visitors in Action</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../_general.html#metaclasses">MetaClasses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../_general.html#additional-resources">Additional Resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../ui/_ui.html">User Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../scripting/_scripting.html">Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faqs/_faqs.html">Frequently Asked Questions</a></li>
</ul>
<p class="caption"><span class="caption-text">Code Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/_tutorials.html">SDK Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/_examples.html">Code Examples and Snippets</a></li>
</ul>
<p class="caption"><span class="caption-text">Technical Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../python/python.html">Python Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cpp/cpp.html">C++ Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Modo SDK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../_general.html">Editorial Info</a> &raquo;</li>
        
      <li>Mesh Operation - Overview</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mesh-operation-overview">
<h1>Mesh Operation - Overview<a class="headerlink" href="#mesh-operation-overview" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#interface" id="id1">Interface</a></p>
<ul>
<li><p><a class="reference internal" href="#evaluation" id="id2">Evaluation</a></p>
<ul>
<li><p><a class="reference internal" href="#evaluate" id="id3">Evaluate</a></p></li>
<li><p><a class="reference internal" href="#settransform" id="id4">SetTransform</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#re-evaluation" id="id5">Re-Evaluation</a></p>
<ul>
<li><p><a class="reference internal" href="#compare" id="id6">Compare</a></p></li>
<li><p><a class="reference internal" href="#convert" id="id7">Convert</a></p></li>
<li><p><a class="reference internal" href="#reevaluate" id="id8">ReEvaluate</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#item-type" id="id9">Item Type</a></p></li>
<li><p><a class="reference internal" href="#selection-type" id="id10">Selection Type</a></p></li>
<li><p><a class="reference internal" href="#creation-command" id="id11">Creation Command</a></p></li>
</ul>
</li>
</ul>
</div>
<p>__TOC__</p>
<p>The Mesh Operation is the main interface for procedural modelling. It is provided with an editable mesh, and it’s expected to edit and return the modified mesh. These Mesh Operations are integrated into the procedural modelling system, by wrapping them in a Mesh Filter and applying them as layers on top of the base mesh. By passing the same editable mesh through a series of Mesh Operations, we have the basics of the procedural modelling system.</p>
<div class="section" id="interface">
<h2><a class="toc-backref" href="#id1">Interface</a><a class="headerlink" href="#interface" title="Permalink to this headline">¶</a></h2>
<div class="section" id="evaluation">
<h3><a class="toc-backref" href="#id2">Evaluation</a><a class="headerlink" href="#evaluation" title="Permalink to this headline">¶</a></h3>
<div class="section" id="evaluate">
<h4><a class="toc-backref" href="#id3">Evaluate</a><a class="headerlink" href="#evaluate" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="n">LXxMETHOD</span><span class="p">(</span> <span class="n">LxResult</span><span class="p">,</span>
<span class="n">Evaluate</span><span class="p">)</span> <span class="p">(</span>
    <span class="n">LXtObjectID</span>              <span class="n">self</span><span class="p">,</span>
    <span class="n">LXtObjectID</span>              <span class="n">mesh</span><span class="p">,</span>
    <span class="n">LXtID4</span>                   <span class="n">type</span><span class="p">,</span>
    <span class="n">LXtMarkMode</span>              <span class="n">mode</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>The Evaluate function is used to perform the main evaluation. It is given an editable mesh, which should be edited in place, to perform the modeling operation. A selection mark mode and selection type is provided, to limit the operation to a particular subset of components.</p>
</div>
<div class="section" id="settransform">
<h4><a class="toc-backref" href="#id4">SetTransform</a><a class="headerlink" href="#settransform" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="n">LXxMETHOD</span><span class="p">(</span> <span class="n">LxResult</span><span class="p">,</span>
<span class="n">SetTransform</span><span class="p">)</span> <span class="p">(</span>
    <span class="n">LXtObjectID</span>              <span class="n">self</span><span class="p">,</span>
    <span class="n">LXtMatrix4</span>               <span class="n">matrix</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>The SetTransform function provides the mesh operation with a transform matrix. This matrix stores the transform of the mesh that is being affected by the mesh operation.</p>
</div>
</div>
<div class="section" id="re-evaluation">
<h3><a class="toc-backref" href="#id5">Re-Evaluation</a><a class="headerlink" href="#re-evaluation" title="Permalink to this headline">¶</a></h3>
<p>When a mesh operation creates new geometry, it can be inefficient to recreate the geometry for every evaluation. This set of optional functions allow the previous evaluation result to be used as a starting point for the current evaluation. For example, a bevel tool may use the initial evaluation to create the beveled polygons, and any further evaluation calls may simply offset the position of the beveled geometry. This would be much more efficient and result in improved performance.</p>
<div class="section" id="compare">
<h4><a class="toc-backref" href="#id6">Compare</a><a class="headerlink" href="#compare" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="n">LXxMETHOD</span><span class="p">(</span> <span class="kt">int</span><span class="p">,</span>
<span class="n">Compare</span><span class="p">)</span> <span class="p">(</span>
    <span class="n">LXtObjectID</span>              <span class="n">self</span><span class="p">,</span>
    <span class="n">LXtObjectID</span>              <span class="n">other</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>The Compare function is used to compare one mesh operation with another. The old mesh operation is passed to the new mesh operation and the attributes should be compared, to see if they are compatible. If the function returns LXiMESHOP_DIFFERENT, then the operation will be discarded and evaluated from scratch. If the function returns LXiMESHOP_COMPATIBLE, then the previous result will be used as a starting point for the next evaluation. If the function returns LXiMESHOP_IDENTICAL, then re-evaluation of the mesh operation will be skipped altogether, and the previous result will be used, as is.</p>
</div>
<div class="section" id="convert">
<h4><a class="toc-backref" href="#id7">Convert</a><a class="headerlink" href="#convert" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="n">LXxMETHOD</span><span class="p">(</span> <span class="n">LxResult</span><span class="p">,</span>
<span class="n">Convert</span><span class="p">)</span> <span class="p">(</span>
    <span class="n">LXtObjectID</span>              <span class="n">self</span><span class="p">,</span>
    <span class="n">LXtObjectID</span>              <span class="n">other</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>If the previous mesh operation is compatible, then Convert will be called to transfer variables and user data from the old mesh operation to the new mesh operation. The function will be passed the old operation and any variables should be transferred.</p>
</div>
<div class="section" id="reevaluate">
<h4><a class="toc-backref" href="#id8">ReEvaluate</a><a class="headerlink" href="#reevaluate" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span>    <span class="n">LXxMETHOD</span><span class="p">(</span> <span class="n">LxResult</span><span class="p">,</span>
<span class="n">ReEvaluate</span><span class="p">)</span> <span class="p">(</span>
    <span class="n">LXtObjectID</span>              <span class="n">self</span><span class="p">,</span>
    <span class="n">LXtObjectID</span>              <span class="n">mesh</span><span class="p">,</span>
    <span class="n">LXtID4</span>                   <span class="n">type</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>The ReEvaluate function is called to perform a fast update to a previous mesh. The mesh from the previous evaluation result is passed to the function, and the mesh operation is expected to simply update the mesh in place.</p>
</div>
</div>
<div class="section" id="item-type">
<h3><a class="toc-backref" href="#id9">Item Type</a><a class="headerlink" href="#item-type" title="Permalink to this headline">¶</a></h3>
<p>The procedural modeling system works by evaluating a series of mesh operations, on a target mesh, to result in a final modified mesh. To integrate a mesh operation interface into the procedural modeling system, the mesh operations need to be associated with an item that can be managed by the user. The mesh operation item performs this duty. It contains a MeshOpObj channel which stores the mesh operation, and is evaluated by the procedural modeling system, to perform an edit to the mesh.</p>
<p>Mesh Operation items all derive from a common type. This type is extremely basic and has no transforms or position in 3D space. There are also three default channels on every Mesh Operation Item, defining things like selection type and the enable state.</p>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">#define LXsITYPE_MESHOP                 &quot;meshoperation&quot;</span>

<span class="cp">#define LXsICHAN_MESHOP_ENABLE          &quot;enable&quot;</span>
<span class="cp">#define LXsICHAN_MESHOP_OBJ             &quot;meshOpObj&quot;</span>
<span class="cp">#define LXsICHAN_MESHOP_SELTYPE         &quot;selectionType&quot;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="selection-type">
<h3><a class="toc-backref" href="#id10">Selection Type</a><a class="headerlink" href="#selection-type" title="Permalink to this headline">¶</a></h3>
<p>Not all mesh operations support every selection type, for example, a Polygon Bevel only operates on Polygons. To prevent the user from attempting to use an incompatible selection operation with a mesh operation, the mesh operation can specify which selection types it supports, and only compatible selection operations will be permitted.</p>
<p>To limit a mesh operation to specific selection types, the following server tag should be defined on the mesh operation server. The value should be a comma separated list of supported selection types, if no types are supported, then the value “-” should be provided. If this tag is not present, then the system will assume that all selection types are supported.</p>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">#define LXsPMODEL_SELECTIONTYPES        &quot;selectionoperation&quot;</span>

<span class="cp">#define LXsSELOP_TYPE_NONE              &quot;-&quot;</span>
<span class="cp">#define LXsSELOP_TYPE_VERTEX            &quot;VERX&quot;</span>
<span class="cp">#define LXsSELOP_TYPE_EDGE              &quot;EDGE&quot;</span>
<span class="cp">#define LXsSELOP_TYPE_POLYGON           &quot;POLY&quot;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="creation-command">
<h3><a class="toc-backref" href="#id11">Creation Command</a><a class="headerlink" href="#creation-command" title="Permalink to this headline">¶</a></h3>
<p>The Mesh Operation can provide a creation command that will be executed to handle the creation of the mesh operation. This allows things like dialogs to be created to ask the user for input, or to create graph connections on creation. To define a creation command, the following server tag should be added to the mesh operation server, the value of the tag should be the command to execute.</p>
<div class="highlight-cpp notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="cp">#define LXsPKG_MESHOP_CREATECMD         &quot;meshop.create&quot;</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Selection%20Operation%20-%20Overview.html" class="btn btn-neutral float-right" title="Selection Operation - Overview" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Global%20Listener%20Object.html" class="btn btn-neutral float-left" title="Global Listener Object" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Foundry

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org/">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>

<!-- Mirrored from learn.foundry.com/modo/developers/latest/sdk/pages/general/serverinfo/Mesh Operation - Overview.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 30 Nov 2024 03:15:52 GMT -->
</html>