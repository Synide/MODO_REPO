

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->

<!-- Mirrored from learn.foundry.com/modo/developers/latest/sdk/pages/ui/Collapsable and Hideable Viewports.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 30 Nov 2024 03:15:53 GMT -->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Collapsable and Hideable Viewports &mdash; Modo SDK 14.2v0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/js/contentui.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Command Dialog Formatting" href="Command%20Dialog%20Formatting.html" />
    <link rel="prev" title="Argument Types" href="Argument%20Types.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Modo SDK
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="https://learn.foundry.com/modo/developers/latest/sdk/search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Articles</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../starting/_starting.html">First Steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server_basics/_server_basics.html">Server Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/_general.html">Editorial Info</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="_ui.html">User Interface</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="App.undoSuspend.html">App.undoSuspend</a></li>
<li class="toctree-l2"><a class="reference internal" href="Argument%20Types.html">Argument Types</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Collapsable and Hideable Viewports</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#collapsing-and-hiding-viewports">Collapsing and Hiding Viewports</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#collapsing-viewports">Collapsing Viewports</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hiding-viewports">Hiding Viewports</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#under-the-hood">Under the Hood</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-commands">The Commands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#collapsing-hiding">Collapsing/Hiding</a></li>
<li class="toctree-l4"><a class="reference internal" href="#expanding-unhiding">Expanding/Unhiding</a></li>
<li class="toctree-l4"><a class="reference internal" href="#putting-it-together">Putting It Together</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tabs-in-tabbed-viewports">Tabs in Tabbed Viewports</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#tab-switching-without-collapsing-hiding">Tab Switching without Collapsing/Hiding</a></li>
<li class="toctree-l3"><a class="reference internal" href="#icons">Icons</a></li>
<li class="toctree-l3"><a class="reference internal" href="#demo-config">Demo Config</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bonus-command-viewport-settings">Bonus command: viewport.settings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Command%20Dialog%20Formatting.html">Command Dialog Formatting</a></li>
<li class="toctree-l2"><a class="reference internal" href="Command%20Help.html">Command Help</a></li>
<li class="toctree-l2"><a class="reference internal" href="Command%20History%20Viewport.html">Command History Viewport</a></li>
<li class="toctree-l2"><a class="reference internal" href="Create%20A%20Custom%20Form.html">Create A Custom Form</a></li>
<li class="toctree-l2"><a class="reference internal" href="Creating%20Layouts.html">Creating Layouts</a></li>
<li class="toctree-l2"><a class="reference internal" href="Defining%20Item%20Categories.html">Defining Item Categories</a></li>
<li class="toctree-l2"><a class="reference internal" href="Dialog%20Commands.html">Dialog Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="Event%20Log%20Viewport.html">Event Log Viewport</a></li>
<li class="toctree-l2"><a class="reference internal" href="Form%20Categories%20and%20Groups.html">Form Categories and Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="Form%20Editor.html">Form Editor</a></li>
<li class="toctree-l2"><a class="reference internal" href="Form%20Filtering.html">Form Filtering</a></li>
<li class="toctree-l2"><a class="reference internal" href="Form%20System.html">Form System</a></li>
<li class="toctree-l2"><a class="reference internal" href="Help%20URLs.html">Help URLs</a></li>
<li class="toctree-l2"><a class="reference internal" href="Icon%20Resources.html">Icon Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="Layout%20Windows.html">Layout Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="MODO%20Projects.html">MODO Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="MessageService%20Reference.html">MessageService Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="Modo%20Markup.html">Modo Markup</a></li>
<li class="toctree-l2"><a class="reference internal" href="User%20Interface%20and%20Plug-Ins.html">User Interface and Plug-Ins</a></li>
<li class="toctree-l2"><a class="reference internal" href="User%20Values.html">User Values</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../scripting/_scripting.html">Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faqs/_faqs.html">Frequently Asked Questions</a></li>
</ul>
<p class="caption"><span class="caption-text">Code Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/_tutorials.html">SDK Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/_examples.html">Code Examples and Snippets</a></li>
</ul>
<p class="caption"><span class="caption-text">Technical Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../python/python.html">Python Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cpp/cpp.html">C++ Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Modo SDK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="_ui.html">User Interface</a> &raquo;</li>
        
      <li>Collapsable and Hideable Viewports</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="collapsable-and-hideable-viewports">
<h1>Collapsable and Hideable Viewports<a class="headerlink" href="#collapsable-and-hideable-viewports" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#collapsing-and-hiding-viewports" id="id3">Collapsing and Hiding Viewports</a></p>
<ul>
<li><p><a class="reference internal" href="#collapsing-viewports" id="id4">Collapsing Viewports</a></p>
<ul>
<li><p><a class="reference internal" href="#toggling-collapsing-support-for-a-divider" id="id5">Toggling Collapsing Support For A Divider</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#hiding-viewports" id="id6">Hiding Viewports</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#under-the-hood" id="id7">Under the Hood</a></p></li>
<li><p><a class="reference internal" href="#the-commands" id="id8">The Commands</a></p>
<ul>
<li><p><a class="reference internal" href="#collapsing-hiding" id="id9">Collapsing/Hiding</a></p></li>
<li><p><a class="reference internal" href="#expanding-unhiding" id="id10">Expanding/Unhiding</a></p></li>
<li><p><a class="reference internal" href="#putting-it-together" id="id11">Putting It Together</a></p></li>
<li><p><a class="reference internal" href="#tabs-in-tabbed-viewports" id="id12">Tabs in Tabbed Viewports</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#tab-switching-without-collapsing-hiding" id="id13">Tab Switching without Collapsing/Hiding</a></p></li>
<li><p><a class="reference internal" href="#icons" id="id14">Icons</a></p></li>
<li><p><a class="reference internal" href="#demo-config" id="id15">Demo Config</a></p></li>
<li><p><a class="reference internal" href="#bonus-command-viewport-settings" id="id16">Bonus command: viewport.settings</a></p></li>
</ul>
</div>
<div class="section" id="collapsing-and-hiding-viewports">
<h2><a class="toc-backref" href="#id3">Collapsing and Hiding Viewports</a><a class="headerlink" href="#collapsing-and-hiding-viewports" title="Permalink to this headline">¶</a></h2>
<p>Starting in modo901, viewports can be hidden or collapsed programatically.</p>
<div class="section" id="collapsing-viewports">
<h3><a class="toc-backref" href="#id4">Collapsing Viewports</a><a class="headerlink" href="#collapsing-viewports" title="Permalink to this headline">¶</a></h3>
<p>Most dividers will look like they always have.  Some, however, will be wider, with a thick grip and an arrow pointing in one direction on one or both sides of the grip.  These are the collapse widgets – clicking one will collapse the viewports along that divider in that direction.  Since we must collapse rectangular regions, this may collapse multiple viewports, possibly outside the bounds you might be expecting.  Dragging anywhere in the divider (not just the grip) will resize the viewport as normal.</p>
<p>Collapsed viewports are replaced with a thin rectangular region with a triangle in it; to restore the original viewports, just click on the widget.  This collection of viewports is referred to as a ‘’set’’.</p>
<div class="section" id="toggling-collapsing-support-for-a-divider">
<h4><a class="toc-backref" href="#id5">Toggling Collapsing Support For A Divider</a><a class="headerlink" href="#toggling-collapsing-support-for-a-divider" title="Permalink to this headline">¶</a></h4>
<p>Any divider can be made wide to support collapsing by right clicking and choosing the collapse direction.  Care should be taken with which dividers are made collapsible, as some don’t make sense and could result in odd collapsing effects.  The menu allows you to choose if a divider can collapsed in zero, one or both directions.</p>
</div>
</div>
<div class="section" id="hiding-viewports">
<h3><a class="toc-backref" href="#id6">Hiding Viewports</a><a class="headerlink" href="#hiding-viewports" title="Permalink to this headline">¶</a></h3>
<p>Hiding is like collapsing, but it completely removes the viewport set from the dividers.  Hiding and revealing viewports is commonly done through buttons in Form Views.</p>
</div>
</div>
<div class="section" id="under-the-hood">
<h2><a class="toc-backref" href="#id7">Under the Hood</a><a class="headerlink" href="#under-the-hood" title="Permalink to this headline">¶</a></h2>
<p>Each layout maintains their own lists of collapsed and hidden sets, which are stored in the config between sessions.  All sets keep track of where they are in the layout the same way that viewports do, by the dividers they share.  This means that they can survive deleted viewports, re-arranged viewports, split viewports and so on, and it is still possible to restore the set?s contents (although if you make enough changes they might not restore in quite where you might expect).</p>
<p>The sets are stored in the layout?s config in a <em>Collapsed</em> list (both for collapsed and hidden sets) in a manner somewhat similar to how viewports are stored in <em>Port</em> entries. The set?s contents (its dividers and viewports) stored in separate <em>CollapsedSet</em> hash entries in the <em>Frame</em> atom, like viewports presets, with the contents being a layout-like list of its dividers and viewport presets. (This all makes sense once you look at a config.)</p>
<p>A simple config hierarchy.  The bold bits are the new elements added for collapsed sets:</p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre><span></span>        <span class="n">Frame</span> <span class="p">(</span><span class="n">atom</span><span class="p">)</span>
          <span class="n">Layout</span> <span class="p">(</span><span class="nb">hash</span><span class="p">)</span>
            <span class="n">HDiv</span> <span class="p">(</span><span class="nb">list</span><span class="p">)</span>
            <span class="n">VDiv</span> <span class="p">(</span><span class="nb">list</span><span class="p">)</span>
            <span class="n">Port</span> <span class="p">(</span><span class="nb">list</span><span class="p">)</span>
            <span class="sd">&#39;&#39;&#39;Collapsed (list)&#39;&#39;&#39;</span>
              <span class="sd">&#39;&#39;&#39;Dividers (atom)&#39;&#39;&#39;</span>
          <span class="n">Viewport</span> <span class="p">(</span><span class="nb">hash</span><span class="p">)</span>
          <span class="sd">&#39;&#39;&#39;CollapsedSet (hash)&#39;&#39;&#39;</span>
            <span class="sd">&#39;&#39;&#39;Position (atom)&#39;&#39;&#39;</span>
            <span class="sd">&#39;&#39;&#39;HDiv (list)&#39;&#39;&#39;</span>
            <span class="sd">&#39;&#39;&#39;VDiv (list)&#39;&#39;&#39;</span>
            <span class="sd">&#39;&#39;&#39;Port (list)&#39;&#39;&#39;</span>
            <span class="sd">&#39;&#39;&#39;Collapsed (list)&#39;&#39;&#39;</span>
              <span class="sd">&#39;&#39;&#39;Dividers (atom)&#39;&#39;&#39;</span>
</pre></div>
</td></tr></table></div>
<p>Like viewports, sets have their own hashes, and duplicating a layout generates a new hash for the set.  To make sure a command in a form can find the set even if the hash changes, the sets have an <em>expansionKey</em> that does not change.  This is detailed further below.</p>
</div>
<div class="section" id="the-commands">
<h2><a class="toc-backref" href="#id8">The Commands</a><a class="headerlink" href="#the-commands" title="Permalink to this headline">¶</a></h2>
<p>Collapsing and hiding use very similar commands:</p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span> viewport.collapse show:? viewportFrom:tag viewport:MyTag dir:right expansionKey:MyExpansionKey
 viewport.hide show:? viewportFrom:tag viewport:MyTag dir:right expansionKey:MyExpansionKey
</pre></div>
</td></tr></table></div>
<p>The arguments work the same way, so I’ll just cover <em>viewport.hide</em> here.</p>
<div class="section" id="collapsing-hiding">
<h3><a class="toc-backref" href="#id9">Collapsing/Hiding</a><a class="headerlink" href="#collapsing-hiding" title="Permalink to this headline">¶</a></h3>
<p>When <strong>show</strong> is false, the viewports will be collapsed/hidden.  There are two pieces of information required to find the divider to be collapsed:  the viewport?s hash or tag, and a direction to collapse in.</p>
<p>‘’’viewportFrom’’’ can be set to tag or hash to indicate what the <strong>viewport</strong> argument represents.  Collapsing by clicking a widget in the collapse popover tends to use the viewport?s preset hash, since that?s all we really have to work with.  Hiding, especially if a button in the UI, should ‘’’always use a viewport tag’’’.  Using tags ensures that the viewport can always be found, even if its hash changes (which can happen when copying/duplicating a layout, for example).</p>
<p>Searching for a viewport with the hash/tag is done from the current frame (as derived from the currently selected viewport) and its children, then the parent frame hierarchy and its children, and finally all remaining frames.  This ensures that if the tag/preset exists in multiple currently open layouts that we?ll probably find the one that you wanted, although you may get incorrect behavior if the same tag/hash is used in multiple visible layouts.  If this becomes an issue I can try to look into ways around it, either by allowing the search scope to be more limited or by doing more detailed searches within collapsed sets for the viewports, although I?m not sure what to do about the expansion key (since that only exists if the set is collapsed/hidden, we could find an existing set in the wrong frame unless we support limiting the scope of the search).</p>
<p>After finding the viewport, the <strong>dir</strong> argument is checked to decide which direction we?re collapsing in.  For example, if it is set to ‘’left’’, then the viewport collapses to the left (and thus you clicked on the left-pointing widget on the divider popover over the right edge of the viewport).  For ‘’viewport.hide’’, this is opposite the divider that is removed after the viewports in that direction are hidden (ie: hiding to the left would remove the right edge).  This makes sense when you see it in action.  Just remember it?s always the direction you?re collapsing in, not the side of the viewport that you?re removing.</p>
<p>The <strong>expansionKey</strong> argument is used to designate a (hopefully) uniquely identifier for this collapsed set so that we can restore it later.  As such, it is stored as part of the set itself.  This isn?t a dynamic hash, so duplicating the layout will result in the same key existing in the duplicate, and thus your buttons in the forms will still work.  This key is defined by the command call itself, and doesn?t already exist in the layout separately.</p>
</div>
<div class="section" id="expanding-unhiding">
<h3><a class="toc-backref" href="#id10">Expanding/Unhiding</a><a class="headerlink" href="#expanding-unhiding" title="Permalink to this headline">¶</a></h3>
<p>Expanding or unhiding is done with the same command, but this time with <strong>show</strong> set to true.  The <strong>viewportFrom’’’/’’’viewport</strong> arguments must be set but are ignored, since the viewport won?t exist in the layout at this time.  The <strong>expansionKey</strong> argument is now used to find the previously-collapsed/hidden set, at which point its dividers and viewports are restored into their frame.</p>
</div>
<div class="section" id="putting-it-together">
<h3><a class="toc-backref" href="#id11">Putting It Together</a><a class="headerlink" href="#putting-it-together" title="Permalink to this headline">¶</a></h3>
<p>Here?s a simple made-up example of how this might work as a button in a form:</p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span> viewport.hide show:? viewportFrom:tag viewport:MyTag dir:right expansionKey:MyExpansionKey
</pre></div>
</td></tr></table></div>
<p>This creates a tool-style toggle button in the form.  The state of the button is determined by if the set is in the visible (as indicated by the viewport indicated by viewportFrom/viewport existing) or hidden (via a set with the expansionKey existing).  It contains all the information needed to hide or show the set when its button is clicked.</p>
<p>Clicking the button would make a layout where the viewport A has the tag MyTag go from this:</p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="o">+-------+----------+</span>
 <span class="o">|</span>       <span class="o">|</span>          <span class="o">|</span>
 <span class="o">|</span>       <span class="o">|</span>          <span class="o">|</span>
 <span class="o">|</span>       <span class="o">|</span>     <span class="n">A</span>    <span class="o">|</span>
 <span class="o">|</span>       <span class="o">|</span>          <span class="o">|</span>
 <span class="o">|</span>       <span class="o">|</span>          <span class="o">|</span>
 <span class="o">+-------+----------+</span>
</pre></div>
</td></tr></table></div>
<p>To this:</p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="o">+------------------+</span>
 <span class="o">|</span>                  <span class="o">|</span>
 <span class="o">|</span>                  <span class="o">|</span>
 <span class="o">|</span>                  <span class="o">|</span>
 <span class="o">|</span>                  <span class="o">|</span>
 <span class="o">|</span>                  <span class="o">|</span>
 <span class="o">+------------------+</span>
</pre></div>
</td></tr></table></div>
<p>The hidden set is attached to the top, right and bottom edges, and will restore from the right edge.  If you split the remaining viewport, the hidden set will still be attached to the right edge when it is restored.</p>
</div>
<div class="section" id="tabs-in-tabbed-viewports">
<h3><a class="toc-backref" href="#id12">Tabs in Tabbed Viewports</a><a class="headerlink" href="#tabs-in-tabbed-viewports" title="Permalink to this headline">¶</a></h3>
<p>The <strong>tabTag</strong> argument provides an extra layer of functionality.  Let?s say you have a layout like this:</p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="o">+-------+------------+</span>
 <span class="o">|</span>       <span class="o">|</span>            <span class="o">|</span>
 <span class="o">|</span>       <span class="o">|</span>            <span class="o">|</span>
 <span class="o">|</span>       <span class="o">|</span>            <span class="o">|</span>
 <span class="o">|</span>   <span class="n">P</span>   <span class="o">|</span>            <span class="o">|</span>
 <span class="o">|</span>       <span class="o">|</span>            <span class="o">|</span>
 <span class="o">|</span>       <span class="o">|</span>            <span class="o">|</span>
 <span class="o">+-------+------------+</span>
 <span class="o">|</span> <span class="n">A</span> <span class="n">B</span> <span class="n">C</span> <span class="n">D</span>            <span class="o">|</span>
 <span class="o">+--------------------+</span>
</pre></div>
</td></tr></table></div>
<p>P is a panel that you want to hide, but the contents of P can be one of four possible sets of viewports.  The buttons A, B, C and D determine which viewports are displayed in P, but you can also click the highlighted button to hide the entire panel.  The question is, how do you do this?</p>
<p>The answer is that P is actually a tabbed viewport, but with the tabs hidden (this newly-added ability is supported through the <em>MinHeader</em> config parm on the tabbed viewport, which can be toggled form the UI via the ‘’Show Tabs’’ option in its ‘’Viewport Controls’’).  Each tab?s viewport must be given a tag, which in turn is referenced by the <em>viewport.hide’’/’’viewport.collapse</em> commands in the form:</p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span> viewport.hide show:? viewportFrom:tag viewport:MyTag dir:left expansionKey:MyExpansionKey tabTag:MyTabA
 viewport.hide show:? viewportFrom:tag viewport:MyTag dir:left expansionKey:MyExpansionKey tabTag:MyTabB
 viewport.hide show:? viewportFrom:tag viewport:MyTag dir:left expansionKey:MyExpansionKey tabTag:MyTabC
 viewport.hide show:? viewportFrom:tag viewport:MyTag dir:left expansionKey:MyExpansionKey tabTag:MyTabD
</pre></div>
</td></tr></table></div>
<p>When you click one of the buttons, the command first checks to see if the viewport is a tabbed viewport and that the tab with that tag is current.  If it is, only then does it hide the set.  If the tabbed viewport is visible but the tab with that tag is not the current one, it simply switches to that tab.  If the set isn?t visible, it both reveals the set and switching to the desired tab.</p>
<p>This lets you create buttons that you can click to open a panel, then click to switch between different kinds of panels, before finally hiding the panel again by clicking the highlighted button.</p>
</div>
</div>
<div class="section" id="tab-switching-without-collapsing-hiding">
<h2><a class="toc-backref" href="#id13">Tab Switching without Collapsing/Hiding</a><a class="headerlink" href="#tab-switching-without-collapsing-hiding" title="Permalink to this headline">¶</a></h2>
<p>If you want to just have a tabbed viewport that is always visible but has no tab bar, and you simply want to switch tabs with buttons in a form, you can use the <strong>viewport.tabWithTag</strong> command.  It supports querying and icons just like the collapse/hide commands.</p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span> viewport.tabWithTag tag:string &lt;?isCurrent:boolean&gt;
</pre></div>
</td></tr></table></div>
<p>In a form, it would look like this.  The isCurrent argument exist solely so that we have something to query from the form so that the button can be properly highlighted.</p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span> viewport.tabWithTag tag:MyTag isCurrent:?
</pre></div>
</td></tr></table></div>
<p>This is a global search for that tag in all tabs in all tabbed viewports, so you should try to make sure it?s unique.</p>
</div>
<div class="section" id="icons">
<h2><a class="toc-backref" href="#id14">Icons</a><a class="headerlink" href="#icons" title="Permalink to this headline">¶</a></h2>
<p>Viewports now support icon resources through their tags.  These are displayed on the buttons created by viewport.hide, viewport.collapse, and viewport.tabWithTag.  For the hide/collapse commands, the <em>viewportFrom</em> argument must be ‘’tag’’, and <em>viewport</em> argument must be a tag, as the tag itself is used as the icon resource lookup.</p>
<p>These icons obey standard forms rules, meaning that you should define <em>myTag_20</em> and <em>myTag_32</em> in your image resources.</p>
<p>There is no fallback.  We have no way to know what viewport this is, so we can?t resort to the viewport type, and the viewport preset could change if the layout is cloned.  So tags it is.</p>
</div>
<div class="section" id="demo-config">
<h2><a class="toc-backref" href="#id15">Demo Config</a><a class="headerlink" href="#demo-config" title="Permalink to this headline">¶</a></h2>
<p>To demonstrate this there is simple <a href="#id1"><span class="problematic" id="id2">|</span></a>a simple test config, which you can unzip and put in user:configs to try it out – just switch to the Tab Hide Test layout.  You can use the buttons to switch to specific tabs, to hide the panel (by clicking the highlighted button), and to show it again (by clicking any button when none are highlighted).  It demonstrates how to set up the commands, form and tabbed viewport.</p>
<img alt="pages\ui\./../../images/TabHidingTestConfig.zip" src="images/TabHidingTestConfig.html" />
</div>
<div class="section" id="bonus-command-viewport-settings">
<h2><a class="toc-backref" href="#id16">Bonus command: viewport.settings</a><a class="headerlink" href="#bonus-command-viewport-settings" title="Permalink to this headline">¶</a></h2>
<p>The viewport.settings command can be used to open the settings of the currently-selected viewport.  You can also open a specific viewport via viewport tags:</p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span> <span class="n">viewport</span><span class="o">.</span><span class="n">settings</span> <span class="n">tag</span><span class="p">:</span><span class="n">MyViewportTag</span>
</pre></div>
</td></tr></table></div>
<p>If you target a tabbed viewport, it will open the options of the current tab.  This can be useful to provide a way for the user to open the viewport options when the tab bar is hidden.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Command%20Dialog%20Formatting.html" class="btn btn-neutral float-right" title="Command Dialog Formatting" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Argument%20Types.html" class="btn btn-neutral float-left" title="Argument Types" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Foundry

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org/">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>

<!-- Mirrored from learn.foundry.com/modo/developers/latest/sdk/pages/ui/Collapsable and Hideable Viewports.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 30 Nov 2024 03:15:53 GMT -->
</html>